--- mod_authnz_external.c	2011-10-07 14:43:34.000000000 -0400
+++ mod_authnz_external.c.oden	2012-03-06 10:07:29.815509184 -0500
@@ -443,8 +443,8 @@ static int exec_external(const char *ext
 	if (remote_host != NULL)
 	    child_env[i++]= apr_pstrcat(p, ENV_HOST"=", remote_host,NULL);
 
-	if (c->remote_ip)
-	    child_env[i++]= apr_pstrcat(p, ENV_IP"=", c->remote_ip, NULL);
+	if (c->client_ip)
+	    child_env[i++]= apr_pstrcat(p, ENV_IP"=", c->client_ip, NULL);
 
 	if (r->uri)
 	    child_env[i++]= apr_pstrcat(p, ENV_URI"=", r->uri, NULL);
